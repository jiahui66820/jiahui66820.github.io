<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="李嘉卉">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/07/hello-world/" class="article-date">
  <time datetime="2020-12-07T07:40:13.879Z" itemprop="datePublished">2020-12-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="CSS-变量"><a href="#CSS-变量" class="headerlink" title="CSS 变量"></a>CSS 变量</h1><h2 id="CSS变量解决的问题"><a href="#CSS变量解决的问题" class="headerlink" title="CSS变量解决的问题"></a>CSS变量解决的问题</h2><p>构建大型站点时，CSS的数量是非常庞大的。例如配色方案会在项目中大量、重复使用，后期维护会面对可维护性的挑战。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了解决这个问题，比如可以采用<code>less</code>、<code>sass</code>等预处理器。</p>
<p>但是<strong>CSS变量具有天然的优势</strong>。不同于预处理器，必须最终编译成普通的CSS代码，CSS变量可以被浏览器识别解析，==甚至可以用javascript访问或重新赋值。==</p>
<p>w3c规范中这样描述CSS变量</p>
<blockquote>
<p>使用CSS变量，给看似随机的值加上富有信息的名字，从而使得大文件更容易阅读和编辑，更少出错。因为，你只需要在自定义属性中改变一次值，所有应用了这个变量的地方都会自动跟着一起改变。</p>
</blockquote>
<p><b><u>总结</u></b>:</p>
<ol>
<li>提高大型系统文档的可维护性</li>
<li>提高系统代码的可读性</li>
<li>可以在浏览器中实时修改生效</li>
</ol>
<h2 id="CSS变量语法"><a href="#CSS变量语法" class="headerlink" title="CSS变量语法"></a>CSS变量语法</h2><ol>
<li><p>CSS变量的声明</p>
<p>在变量前加上破折号，<code>--</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">--variable-name</span>: <span class="selector-id">#369</span>;</span><br></pre></td></tr></table></figure>

<p>但是变量名中不能包含<code>$</code>，<code>[]</code>，<code>^</code>，<code>%</code>等字符。普通字符局限在‘数字<code>[0-9]</code>’，’字母<code>[a-zA-Z]</code>‘，’’下划线<code>_</code>‘和’短横线<code>-</code>‘的组合。</p>
<p>变量名可以为中文、日文和韩文</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">--</span>深蓝色: <span class="selector-id">#369</span>;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ul>
<li>变量声明中，属性值不能直接进行数学运算，可以借助<code>calc()</code>函数进行运算    </li>
</ul>
<pre><code> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">--font-size</span>: 12<span class="selector-tag">px</span> * 2; <span class="comment">/*❌错误的方式*/</span></span><br><span class="line"><span class="selector-tag">--font-size</span>: <span class="selector-tag">calc</span>(12<span class="selector-tag">px</span> * 2); <span class="comment">/*⭕️正确的方式*/</span></span><br></pre></td></tr></table></figure>

  ⚠️：不能在一个没有单位的值后直接加上单位，正确的拼接方式是借用calc()函数，进行计算

 <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--value</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="built_in">var</span>(--value) px; <span class="comment">/*❌不会给出5px*/</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="built_in">calc</span>(var(--value) * <span class="number">1px</span>); <span class="comment">/*⭕️5px*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre>
<p>​         </p>
<ul>
<li><p>CSS变量不同于预处理器变量，CSS变量只能用于属性值</p>
<p>例如，<code>less</code>中我们可以这样声明</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@bgc:</span> background-colour;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">@&#123;bgc&#125;</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是换成CSS变量，下面这中用法会抛出不合法的属性名异常</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">  <span class="attribute">--bgc</span>: background-colour;</span><br><span class="line">  <span class="attribute">--colour</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  var(--bgc):var(--colour); /*❌CSS变量不能用于属性名中*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ol start="2">
<li><p>CSS变量的引用</p>
<p>想要使用变量，一般将变量名传到<code>var()</code>函数中</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-colour</span>: <span class="selector-tag">var</span>(<span class="selector-tag">--variable-name</span>);</span><br></pre></td></tr></table></figure>

<p>CSS变量的完整引用语法为<code>var(&lt;variable-name&gt;,[&lt;declaration-value&gt;]?)</code>。如果我们使用的变量没有定义时，则使用后面的值作为元素的属性值。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--color, pink);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>粉红色<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="CSS变量作用域"><a href="#CSS变量作用域" class="headerlink" title="CSS变量作用域"></a>CSS变量作用域</h2><h3 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h3><p>想要在全局声明CSS变量，需要先将它在<code>:root&#123;&#125;</code>中定义</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--primary-colour</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">colour</span>: <span class="built_in">var</span>(--primary-colour);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="局部作用域"><a href="#局部作用域" class="headerlink" title="局部作用域"></a>局部作用域</h3><p>CSS变量就像JS中的变量，每个类名或者花括号就像一个<code>function</code>，里面的变量只有上下文可以获取。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">--h2-colour</span>: <span class="number">#999</span>;</span><br><span class="line">  <span class="attribute">colour</span>: <span class="built_in">var</span>(--h2-colour);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="comment">/*无效*/</span></span><br><span class="line">  <span class="attribute">colour</span>: <span class="built_in">var</span>(--h2-colour);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="在JavaScript中使用CSS变量"><a href="#在JavaScript中使用CSS变量" class="headerlink" title="在JavaScript中使用CSS变量"></a>在JavaScript中使用CSS变量</h2><p>CSS变量带来的提升不仅是代码的可读性和可维护性。更重要的是在JavaScript中可以取到CSS变量。</p>
<h3 id="取回HTML行内样式"><a href="#取回HTML行内样式" class="headerlink" title="取回HTML行内样式"></a>取回HTML行内样式</h3><iframe height="265" style="width: 100%;" scrolling="no" title="覆盖根样式" src="https://codepen.io/jiahui66820/embed/PoGZOjB?height=265&theme-id=dark&default-tab=css,result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a target="_blank" rel="noopener" href='https://codepen.io/jiahui66820/pen/PoGZOjB'>覆盖根样式</a> by jiahui66820
  (<a target="_blank" rel="noopener" href='https://codepen.io/jiahui66820'>@jiahui66820</a>) on <a target="_blank" rel="noopener" href='https://codepen.io'>CodePen</a>.
</iframe>

<h1 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h1><h2 id="1-使用“CSS变量种子计数器”扩展CSS动画更多可能性"><a href="#1-使用“CSS变量种子计数器”扩展CSS动画更多可能性" class="headerlink" title="1. 使用“CSS变量种子计数器”扩展CSS动画更多可能性"></a>1. 使用“CSS变量种子计数器”扩展CSS动画更多可能性</h2><p>不是所有的CSS属性都可以使用<code>animation</code>属性实现动画效果，最典型的例子就是背景图<code>background-image</code>渐变。典型的渐变由角度、颜色位置组成，例如</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.gradient</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, red <span class="number">50%</span>, blue <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://www.runoob.com/">菜鸟教程</a></p>
<p>fallback value</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/07/hello-world/" data-id="ckie8wppc0000l48107xxd575" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 李嘉卉<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>